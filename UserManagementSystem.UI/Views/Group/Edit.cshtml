<link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v6.1.1/css/all.css">
<link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/all.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/brands.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/fontawesome.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/regular.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/solid.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/svg-with-js.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/v4-font-face.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/v4-shims.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/v5-font-face.min.css" asp-append-version="true" />
<link rel="stylesheet" href="~/UserManagementSystem.UI.styles.css" asp-append-version="true" />

@model UserManagementSystem.UI.Models.Group

<h2>Edit Group</h2>
<form asp-action="Edit" method="post">
    <input type="hidden" asp-for="Id" />

    <div class="form-group mb-2">
        <label asp-for="Name"></label>
        <input asp-for="Name" class="form-control" />
    </div>

    <!-- Permissions Checkbox List -->
    <div class="form-group mb-3">
        <label>Permissions</label>
        <div>
            @foreach (var permission in Model.AvailablePermissions)
            {
                <div class="form-check">
                    <input type="checkbox" class="form-check-input"
                           id="permission_@permission.Id"
                           name="SelectedPermissions"
                           value="@permission.Id"
                    @(Model.SelectedPermissions.Contains(@permission.Id) ? "checked" : "") />
                    <label class="form-check-label" for="permission_@permission.Id">
                        @permission.Name
                    </label>
                </div>
            }
        </div>
    </div>
    <!-- Users Checkbox List -->
    <div class="form-group mb-3">
        <label>Users</label>
        <div>
            @foreach (var user in Model.AvailableUsers)
            {
                <div class="form-check">
                    <input type="checkbox" class="form-check-input"
                           id="user_@user.Id"
                           name="SelectedUsers"
                           value="@user.Id"
                    @(Model.SelectedUsers.Contains(@user.Id) ? "checked" : "") />
                    <label class="form-check-label" for="user_@user.Id">
                        @user.FirstName  @user.LastName
                    </label>
                </div>
            }
        </div>
    </div>
    <button type="submit" class="btn btn-success"><i class="fa-solid fa-floppy-disk me-1"></i>Update</button>
</form>